<!--
Filename: a:\_PROJECT\employee-management-system\src\app\components\table\table.component.html
Path: a:\_PROJECT\employee-management-system
Created Date: Saturday, May 25th 2024, 3:46:20 pm
Author: Adon Muhammad

Copyright (c) 2024 Adon Muhammad
-->

<div class="mx-auto overflow-x-auto">
    <div class="text-left">
      <h2 class="text-2xl font-semibold leading-tight">{{ title }}</h2>
    </div>
    <div class="-mx-4 sm:-mx-8 px-4 sm:px-8 py-4">
      <div
        class="inline-block min-w-full shadow-md rounded-lg border-2"
      >
        <table class="min-w-full leading-normal">
          <thead>
                <tr>
                  @for(column of tableColumns; track $index) {
                    @if(column.sort) {
                      <th
                        class="px-5 py-3 border-b-2 text-xs font-semibold text-gray-700 uppercase tracking-wider text-center"
                      >
                        {{ column.header }}
                      </th>
                    }
                  }

                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  > Action </th>
                </tr>
          </thead>
          <tbody>
            @for (data of displayedData; track $index) {
              <tr>
                @for (column of tableColumns; track $index) {
                  <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                    <p class="text-gray-900 whitespace-no-wrap">{{ (column.field !== 'basicSalary') ? data[column.field] : data[column.field] | rupiah  }}</p>
                  </td>
                }
                <td
                  class="px-5 py-5 border-b border-gray-200 bg-white text-sm text-right"
                >
                  <button
                    type="button"
                    class="inline-block text-gray-500 hover:text-gray-700"
                  >
                    <svg
                      class="inline-block h-6 w-6 fill-current"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M12 6a2 2 0 110-4 2 2 0 010 4zm0 8a2 2 0 110-4 2 2 0 010 4zm-2 6a2 2 0 104 0 2 2 0 00-4 0z"
                      />
                    </svg>
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>

    <nav class="flex flex-col gap-y-3 tablet:flex-row items-center justify-between pt-4 mb-3" aria-label="Table navigation">
      <span class="text-sm font-normal text-gray-500 ">Showing <span class="font-semibold text-gray-900 ">{{ (currentPage - 1) * itemsPerPage + 1 }}-{{ (currentPage - 1) * itemsPerPage + displayedData.length }}</span> of <span class="font-semibold text-gray-900 ">{{ totalItems }}</span></span>
      <ul class="inline-flex items-center -space-x-px">
          <li >
              <button
                  class="block px-3 py-2 ml-0 leading-tight text-gray-500 border  rounded-l-lg hover:bg-gray-200"
                  [class.cursor-default]="currentPage === 1"
                  [class.bg-gray-200]="currentPage === 1"
                  [class.cursor-pointer]="currentPage !== 1"
                  (click)="previousPage()"
              >
                  <span class="sr-only">Previous</span>
                  <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
            </button>
          </li>
          @for(page of displayedPages; track $index) {
            <li>
              <button
                  class="px-3 py-2 leading-tight text-gray-500 border"
                  [class.bg-blue-500]="page === currentPage"
                  [class.text-white]="page === currentPage"
                  [class.cursor-default]="page === currentPage"
                  [class.cursor-pointer]="page !== currentPage"
                  [class.hover:bg-gray-100]="page !== currentPage"
                  (click)="changePage(page)"
              >
                  {{ page === -1 ? '...' : page }}
              </button>
            </li>
          }
          <li >
              <button
                  class="block px-3 py-2 ml-0 leading-tight text-gray-500 border  rounded-r-lg hover:bg-gray-200"
                  [class.cursor-default]="currentPage === totalPages"
                  [class.bg-gray-200]="currentPage === totalPages"
                  [class.cursor-pointer]="currentPage !== totalPages"
                  (click)="nextPage()"
              >
                  <span class="sr-only">Next</span>
                  <svg class="w-5 h-5" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
              </button>
          </li>
      </ul>
  </nav>

</div>
